!function(){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},t={},r=n.parcelRequire94c2;null==r&&((r=function(n){if(n in e)return e[n].exports;if(n in t){var r=t[n];delete t[n];var o={id:n,exports:{}};return e[n]=o,r.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(n,e){t[n]=e},n.parcelRequire94c2=r),importScripts("./main.66bf90c5.js"),importScripts("./chunkloader.c3aaeffc.js");var o=r("2DZam"),a=r("209r1"),u=(r("209r1"),r("51JoR")),c=r("RN0x4"),f=r("ingza"),p=r("doFec");function s(n){return(0,u.default)(n)||(0,c.default)(n)||(0,p.default)(n,i)||(0,f.default)()}var l=r("Tzw6x"),d=r("5Ndaw"),v=(a=r("209r1"),(0,d.create)(d.all)),h={pi:a.Complex.PI,e:a.Complex.E,i:a.Complex.I,inf:a.Complex.INFINITY,infinity:a.Complex.INFINITY,epsilon:a.Complex.EPSILON,nan:a.Complex.NAN};function y(n,e){if(e in n)return n[e]}function m(n){var e=n.name;if("z"===(e=e.toLowerCase()))return{type:"z"};if(function(n){return n in a.Complex.I}(e))return{type:"method",name:e};if(e in h)return{type:"constant",value:h[e]};throw new Error("Unrecognized symbol [".concat(e,"]"))}var w={add:function(n){return n.add.bind(n)},unaryPlus:function(n){return function(){return n}},subtract:function(n){return n.sub.bind(n)},unaryMinus:function(n){return n.neg.bind(n)},multiply:function(n){return n.mul.bind(n)},divide:function(n){return n.div.bind(n)},pow:function(n){return n.pow.bind(n)},factorial:function(n){return function(){return v.gamma(n.add(1))}}};function g(n,e){if("constant"===n.type)return n.value;if("function"===n.type)return n.f(e);if("z"===n.type)return e;throw new Error("Unrecognized fold result ".concat(n.type))}function x(n,e,t){var r=this,o=e.map((function(n){return b(n)}));if(o.every((function(n){return"constant"===n.type}))){var i=s(o.map((function(n){return n.value}))),u=i[0],c=i.slice(1),f=(0,a.Complex)(u),p=n(f);return"number"==typeof p?{type:"constant",value:p}:{type:"constant",value:p.bind(f).apply(this,(0,l.default)(c))}}var d=s(o),v=d[0],h=d.slice(1);if(t)return{type:"function",f:function(e){var t=(0,a.Complex)(g(v,e)),o=h.map((function(n){return g(n,e)})),i=n(t);return"number"==typeof i?i:i.bind(t).apply(r,(0,l.default)(o))}}}function b(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];switch(n.type){case"ConstantNode":return{type:"constant",value:n.value};case"FunctionNode":var t=m(n.fn);if("method"===t.type){var r=x((function(n){return n[t.name]}),n.args,e);if(void 0===r)throw new Error("Unexpected function [".concat(t.name,"]"));return r}if("constant"===t.type)throw new Error("Expected function, got constant [".concat(n.fn.name," = ").concat(t.value,"]"));if("z"===t.type)throw new Error("Expected function, got [z]");throw new Error("Expected function, got [".concat(t.type,"]"));case"OperatorNode":var o=y(w,n.fn),a=o?x(o,n.args,e):void 0;if(void 0===a)throw new Error("Unexpected operator [".concat(n.op,"]"));return a;case"ParenthesisNode":return b(n.content);case"SymbolNode":var i=m(n);if("method"===i.type)throw new Error("Unexpected function [".concat(n.name,"]"));return i;default:throw new Error("Cannot parse [".concat(n.type,"] into complex function"))}}function E(n){var e=b(v.parse(n));switch(e.type){case"constant":return{type:"constant",f:e.value};case"function":return e;case"z":return{type:"function",f:function(n){return n}};default:throw new Error("Invalid fold result type ".concat(e.type))}}function C(n,e,t){var r=n.evaluator,i=n.inverse,u=t.width,c=t.height,f=new ArrayBuffer(4*u*c),p=new Uint32Array(f);if("constant"===r.type){var s=(0,a.Complex)(r.f);p.fill(I(s.abs(),s.arg(),i))}else for(var l=function(n){for(var r=Uint32Array.from({length:u},(function(r,u){var c=(0,a.Complex)(d(function(n,e,t,r){var i=t.width,u=t.height,c=t.scale,f=(0,o.default)(t.center,2),p=f[0],s=f[1],l=r.offx,d=r.offy,v=c*i/u,h=c,y=[(i-1)/2,(u-1)/2],m=y[0],w=y[1],g=[(n+l-m)/m,-(e+d-w)/w],x=g[0],b=g[1];return(0,a.Complex)(p+x*v,s+b*h)}(1*Math.floor(u/1),n,e,t)));return I(c.abs(),c.arg(),i)})),f=0;f<1&&n+f<c;f++){var s=(n+f)*u;p.set(r,s)}},d=r.f,v=0;v<c;v+=1)l(v);return f}function I(n,e,t){var r,o,a,i=N(3*e/Math.PI,6);return t&&(i=6-i),function(n,e,t){var r,o,a,i,u,c,f,p,s,l,d,v,h;r=(1-Math.abs(2*t-1))*e,o=r*(1-Math.abs(N(n,2)-1)),a=t-r/2,0<=n&&n<1?(i=(f=[r,o,0])[0],u=f[1],c=f[2]):1<=n&&n<2?(i=(p=[o,r,0])[0],u=p[1],c=p[2]):2<=n&&n<3?(i=(s=[0,r,o])[0],u=s[1],c=s[2]):3<=n&&n<4?(i=(l=[0,o,r])[0],u=l[1],c=l[2]):4<=n&&n<5?(i=(d=[o,0,r])[0],u=d[1],c=d[2]):5<=n&&n<6?(i=(v=[r,0,o])[0],u=v[1],c=v[2]):(i=(h=[r,o,0])[0],u=h[1],c=h[2]);return-16777216|255*(c+a)<<16|255*(u+a)<<8|255*(i+a)}(i,1,(r=n,o=t,a=1/(Math.sqrt(r)+1),o?1-a:a))}function N(n,e){return(n%e+e)%e}onmessage=function(n){var e=n.data;if("init"!==e.action){var t=e.pev,r=e.cd,o=e.graphID,a=function(n){var e=n.fstr,t=n.inverse;return{evaluator:E(e),inverse:t}}(t);if("chunkRequest"===e.action){var i=e.chunk,u=C(a,r,i);postMessage({action:"chunkDone",buf:u,chunk:i,graphID:o},[u])}else{if("mainRequest"!==e.action){throw new Error("Unrecognized request into chunkLoader")}for(var c=performance.now(),f=0;f<r.width;f+=100)for(var p=0;p<r.height;p+=100){var s={width:100,height:100,offx:f,offy:p},l=C(a,r,s),d={action:"chunkDone",buf:l,chunk:s,graphID:o};postMessage(d,[l]),console.log(d)}var v={action:"done",time:Math.trunc(performance.now()-c),graphID:o};postMessage(v)}}else self.postMessage({action:"ready"})}}();
//# sourceMappingURL=chunkloader.bc8a9feb.js.map
