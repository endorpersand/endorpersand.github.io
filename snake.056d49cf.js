!function(){function e(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function n(n){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(n)||e(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var t,r,o,c=document.querySelector("#canvas"),a=c.getContext("2d"),i=25,u=(r=[c.width,c.height],function(e){if(Array.isArray(e))return e}(t=(null!=r?r:[0,0]).map((function(e){return e/i})))||e(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),l=u[0],s=u[1],f=[[Math.floor(l/4),Math.floor(s/2)]],d="e",h="#222",y="#0b0",m="#d00",w="#fff";f.length=5;v([0,0],c.width,c.height,h,[0,0]),v(f[0],23,23,y),b();var p=setInterval(k,75);function v(e,t,r,o){var c,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],u=A(e).map((function(e,n){return e+i[n]}));a.fillStyle=o,(c=a).fillRect.apply(c,n(u).concat([t,r]))}function b(){do{o=[Math.floor(Math.random()*l),Math.floor(Math.random()*s)]}while(f.some((function(e){return S(e,o)})));v(o,23,23,m)}function k(){var e,t=n(f[0]);switch(d){case"n":t[1]--;break;case"e":t[0]++;break;case"s":t[1]++;break;case"w":t[0]--}S(o,t)||v(f.pop(),27,27,h,[-1,-1]);S(o,t)&&b(),function(e,n){return e.some((function(e){return S(e,n)}))}(f,t)&&g(),((e=t)[0]<0||e[0]>=l||e[1]<0||e[1]>=s)&&g(),f.unshift(t),function(e){switch(d){case"n":v(e,23,i,y);break;case"e":v(e,i,23,y,[-1,1]);break;case"s":v(e,23,i,y,[1,-1]);break;case"w":v(e,i,23,y)}}(t),document.querySelector("#score").textContent="Score: ".concat(f.length)}function g(){var e,n;clearInterval(p),a.fillStyle=w,a.font="".concat(250*c.width/700,"px 'Comic Sans MS', 'Papyrus', 'Impact', fantasy, cursive, sans-serif"),a.textAlign="center",a.textBaseline="middle",a.fillText("F",c.width/2,c.height/2),document.onkeydown=function(e){return"r"==e.key?location.reload():void 0},document.onfocus=null;var t=document.createElement("button");t.textContent="Restart",t.onclick=function(){return location.reload()},null===(e=document.querySelector("#score"))||void 0===e||null===(n=e.parentElement)||void 0===n||n.appendChild(t)}function A(e){return(null!=e?e:[0,0]).map((function(e){return e*i}))}function S(e,n){return e.every((function(e,t){return e==n[t]}))}document.onkeydown=function(e){switch(e.code){case"KeyW":case"ArrowUp":"s"!=d&&"n"!=d&&(d="n",k());break;case"KeyA":case"ArrowLeft":"e"!=d&&"w"!=d&&(d="w",k());break;case"KeyS":case"ArrowDown":"s"!=d&&"n"!=d&&(d="s",k());break;case"KeyD":case"ArrowRight":"e"!=d&&"w"!=d&&(d="e",k());break;case"KeyR":g()}},document.onblur=function(){clearInterval(p),p=void 0},document.onfocus=function(){p=p||setInterval(k,75)}}();
//# sourceMappingURL=snake.056d49cf.js.map
