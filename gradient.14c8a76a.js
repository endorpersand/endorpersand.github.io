function _arrayLikeToArray(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _iterableToArrayLimit(r,t){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var n,a,o=[],l=!0,i=!1;try{for(e=e.call(r);!(l=(n=e.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(r){i=!0,a=r}finally{try{l||null==e.return||e.return()}finally{if(i)throw a}}return o}}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _slicedToArray(r,t){return _arrayWithHoles(r)||_iterableToArrayLimit(r,t)||_unsupportedIterableToArray(r,t)||_nonIterableRest()}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _unsupportedIterableToArray(r,t){if(r){if("string"==typeof r)return _arrayLikeToArray(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(r,t):void 0}}var canvas=document.querySelector("canvas"),ctx=canvas.getContext("2d"),ipol="lin",ipolRadios=document.querySelectorAll("input[type=radio]"),coloradd=document.querySelector("#coloradd"),colorsWrapper=document.querySelector("#colors");function getColors(){return _toConsumableArray(document.querySelectorAll("input[type=color]")).map((function(r){return r.value}))}function rgb(r){return[r.slice(1,3),r.slice(3,5),r.slice(5,7)].map((function(r){return parseInt(r,16)}))}function colorRMButtons(){return document.querySelectorAll(".colorrm")}function interpolate(r,t,e){return Math.hypot(r*Math.sqrt(1-e),t*Math.sqrt(e))}function colorDiv(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#000000",t=document.createElement("div"),e=document.createElement("input");e.type="color",e.value=r,e.addEventListener("change",update);var n=document.createElement("button");return n.classList.add("colorrm"),n.textContent="x",n.addEventListener("click",(function(){colorsWrapper.removeChild(n.parentElement);var r=colorRMButtons(),t=!0,e=!1,a=void 0;if(r.length<3)try{for(var o,l=r[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){o.value.disabled=!0}}catch(r){e=!0,a=r}finally{try{t||null==l.return||l.return()}finally{if(e)throw a}}update()})),t.appendChild(e),t.appendChild(n),t}function update(){var r=getColors(),t=r.length-1;switch(ipol){case"lin":var e=ctx.createLinearGradient(0,0,canvas.width,0),n=!0,a=!1,o=void 0;try{for(var l,i=r.entries()[Symbol.iterator]();!(n=(l=i.next()).done);n=!0){var c=_slicedToArray(l.value,2),u=c[0],d=c[1];e.addColorStop(u/t,d)}}catch(r){a=!0,o=r}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}ctx.fillStyle=e;break;case"rms":var y,s=function(e){var n,a=e/m*t,o=[Math.floor(a),a%1],l=o[0],i=o[1],c=_slicedToArray([r[l],null!==(n=r[l+1])&&void 0!==n?n:"#000000"].map((function(r){return rgb(r)})),2),u=c[0],d=c[1],y=Array.from({length:3},(function(r,t){return interpolate(u[t],d[t],i)}));h[e]=-16777216|y[2]<<16|y[1]<<8|y[0]<<0},f=void 0;if("OffscreenCanvas"in globalThis)f=new OffscreenCanvas(canvas.width,1);else f=document.createElement("canvas"),y=[canvas.width,1],f.width=y[0],f.height=y[1];var p=f.getContext("2d"),v=p.createImageData(f.width,1),h=new Uint32Array(v.data.buffer),m=h.length-1;for(u=0;u<h.length;u++)s(u);p.putImageData(v,0,0);var b=ctx.createPattern(f,"repeat-y");ctx.fillStyle=b}ctx.fillRect(0,0,canvas.width,canvas.height)}document.querySelectorAll("input[type=color]").forEach((function(r){return r.addEventListener("change",update)})),ipolRadios.forEach((function(r){return r.addEventListener("change",(function(t){ipol=r.value,update()}))})),coloradd.addEventListener("click",(function(){var r=colorDiv();colorsWrapper.insertBefore(r,coloradd);var t=colorRMButtons(),e=!0,n=!1,a=void 0;if(t.length>2)try{for(var o,l=t[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){o.value.disabled=!1}}catch(r){n=!0,a=r}finally{try{e||null==l.return||l.return()}finally{if(n)throw a}}update()})),document.querySelectorAll(".colorrm").forEach((function(r){return r.addEventListener("click",(function(){colorsWrapper.removeChild(r.parentElement);var t=colorRMButtons(),e=!0,n=!1,a=void 0;if(t.length<3)try{for(var o,l=t[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){o.value.disabled=!0}}catch(r){n=!0,a=r}finally{try{e||null==l.return||l.return()}finally{if(n)throw a}}update()}))})),update();
//# sourceMappingURL=gradient.14c8a76a.js.map
