!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},i=n.parcelRequire94c2;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},n.parcelRequire94c2=i),i.register("85eSi",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i("85eSi").register(JSON.parse('{"5Hjnn":"complexgrapher.be915798.js","egthy":"main.74faf48c.js","1GZwD":"main.f471310d.js","aUCA8":"complexgrapher.10f33220.js"}'));var a,c,u,l,f=i("gKdf6"),s=i("7ZOHk"),d=i("2UFx8"),v=(0,d.create)(d.all),p=document.querySelector("canvas"),m=document.querySelector("#funcForm"),h=m.querySelector("input"),g=document.querySelector("#graphButton"),y=document.querySelector("#zcoord"),w=document.querySelectorAll("button.zoom"),S=document.querySelector("#zoomForm"),E=S.querySelector("input"),x=document.querySelector("#scaleForm"),L=x.querySelector("input"),k=document.querySelector("#warning"),b=document.querySelectorAll(".domain"),q=p.getContext("2d",{alpha:!1}),z=1,C=function(e){return e};c=function(e,t,n){if(t===self.location.origin)return e;var r=n?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([r],{type:"application/javascript"}))};var N={};function O(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}u=function(e){var t=N[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return O(e[2])}return"/"}(),N[e]=t),t},l=function(e){var t=(""+e).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^/]+/);if(!t)throw new Error("Origin not found");return t[0]};var _=u("5Hjnn")+i("85eSi").resolve("egthy");a=c(_,l(_),!1);var j=new Worker(a);j.onmessage=function(e){var t,n=e.data;if("loadChunk"===n.action){var r=new ImageData(new Uint8ClampedArray(n.buf),n.chunk.width,n.chunk.height);q.putImageData(r,n.chunk.offx,n.chunk.offy)}else"done"===n.action&&(t=n.time,y.textContent="Done in ".concat(t,"ms."),U())},j.onerror=R;var H=[v.complex("-2-2i"),v.complex("2+2i")];function A(e){y.classList.remove("error"),y.textContent="z = ".concat(D(e.pageX-p.offsetLeft,e.pageY-p.offsetTop))}function D(e,t){var n=[(p.width-1)/2,(p.height-1)/2],r=n[0],o=n[1],i=(e-r)/(r/2)/z,a=-(t-o)/(o/2)/z;return v.complex(i,a)}function F(e){var t=v.simplify(e),n=v.parse("f(z) = 0"),r=!1;return"OperatorNode"!=t.type||"divide"!=t.fn||isNaN(+t.args[0])||(t.args.reverse(),t=v.simplify(t),r=!0),n.expr=t,{fstr:n.toString(),inverse:r}}function R(e){var t=e instanceof ErrorEvent?e.message:e;p.removeEventListener("mousemove",A),y.classList.add("error"),y.textContent=String(t),U()}function U(){setTimeout((function(){return p.addEventListener("mousemove",A)}),500)}p.addEventListener("mousemove",A),p.addEventListener("click",(function(e){var t=D(e.pageX-p.offsetLeft,e.pageY-p.offsetTop);console.log("z = ".concat(t,",\nf(z) = ").concat(C(t)))})),h.addEventListener("input",(function(){h.value=h.value.replace(/[^a-zA-Z0-9+\-*/^., ()]/g,"")})),g.addEventListener("click",(function(){y.classList.remove("error"),E.value=z.toString();var e,n=2*+L.value+1;p.width!==n&&(p.width=p.height=n),e=t(f)(H.map((function(e){return e.div(z).toString()})),2),b[0].textContent=e[0],b[1].textContent=e[1],y.textContent="Graphing...",p.removeEventListener("mousemove",A);var r=h.value;try{C=v.evaluate("f(z) = ".concat(r)),function(e,t){var n={pev:F(t),cd:{width:p.width,height:p.height,scale:z}};e.postMessage(n)}(j,r)}catch(e){throw R(e),e}})),w[0].addEventListener("click",(function(){z*=2,g.click()})),w[1].addEventListener("click",(function(){1!==z&&(z=1,g.click())})),w[2].addEventListener("click",(function(){z/=2,g.click()})),E.addEventListener("input",(function(){if(E.value=E.value.replace(/[^0-9.]/g,""),isNaN(+L.value)&&(E.value="1"),t(s)(E.value).filter((function(e){return"."===e})).length>1){var e=E.value.split(".");E.value=e[0]+"."+e.slice(1).join("")}})),S.addEventListener("submit",(function(e){e.preventDefault(),z!==+E.value&&(z=+E.value||0,g.click())})),L.addEventListener("input",(function(){isNaN(+L.value)&&(L.value="250"),k.style.display=+L.value>250?"inline":"none"})),x.addEventListener("submit",(function(e){e.preventDefault();var t=2*+L.value+1;p.width!==t&&(p.width=p.height=t,g.click())})),m.addEventListener("submit",(function(e){e.preventDefault(),g.click()})),g.click()}();
//# sourceMappingURL=complexgrapher.be915798.js.map
