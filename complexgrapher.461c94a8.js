!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire94c2;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire94c2=o),o.register("cfndS",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("cfndS").register(JSON.parse('{"5Hjnn":"complexgrapher.461c94a8.js","egthy":"main.f84a3cda.js","aUCA8":"complexgrapher.fd9de889.js","jcp2F":"complexgrapher.9a30d116.js"}'));var i,c,a,u,l=o("7uoCD"),f=o("b3Rbn"),s=f.create(f.all),d=document.querySelector("canvas"),v=document.querySelector("#funcForm"),p=v.querySelector("input"),m=document.querySelector("#graphButton"),h=document.querySelector("#zcoord"),g=document.querySelectorAll("button.zoom"),y=document.querySelector("#zoomForm"),w=y.querySelector("input"),S=document.querySelector("#scaleForm"),E=S.querySelector("input"),x=document.querySelector("#warning"),L=document.querySelectorAll(".domain"),b=d.getContext("2d",{alpha:!1}),k=1,q=function(e){return e};c=function(e,t,n){if(t===self.location.origin)return e;var r=n?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([r],{type:"application/javascript"}))};var C={};function j(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}a=function(e){var t=C[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return j(e[2])}return"/"}(),C[e]=t),t},u=function(e){var t=(""+e).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^/]+/);if(!t)throw new Error("Origin not found");return t[0]};var z=a("5Hjnn")+o("cfndS").resolve("egthy");i=c(z,u(z),!1);var N=new Worker(i);N.onmessage=function(e){var t,n=e.data;if("loadChunk"===n.action){var r=new ImageData(new Uint8ClampedArray(n.buf),n.chunk.width,n.chunk.height);b.putImageData(r,n.chunk.offx,n.chunk.offy)}else"done"===n.action&&(t=n.time,h.textContent="Done in ".concat(t,"ms."),F())},N.onerror=D;var A=[s.complex("-2-2i"),s.complex("2+2i")];function O(e){h.classList.remove("error"),h.textContent="z = ".concat(H(e.pageX-d.offsetLeft,e.pageY-d.offsetTop))}function H(e,t){var n=[(d.width-1)/2,(d.height-1)/2],r=n[0],o=n[1],i=(e-r)/(r/2)/k,c=-(t-o)/(o/2)/k;return s.complex(i,c)}function _(e){var t=s.simplify(e),n=s.parse("f(z) = 0"),r=!1;return"OperatorNode"!=t.type||"divide"!=t.fn||isNaN(+t.args[0])||(t.args.reverse(),t=s.simplify(t),r=!0),n.expr=t,{fstr:n.toString(),inverse:r}}function D(e){var t=e instanceof ErrorEvent?e.message:e;d.removeEventListener("mousemove",O),h.classList.add("error"),h.textContent=String(t),F()}function F(){setTimeout((function(){return d.addEventListener("mousemove",O)}),500)}d.addEventListener("mousemove",O),d.addEventListener("click",(function(e){var t=H(e.pageX-d.offsetLeft,e.pageY-d.offsetTop);console.log("z = ".concat(t,",\nf(z) = ").concat(q(t)))})),p.addEventListener("input",(function(){p.value=p.value.replace(/[^a-zA-Z0-9+\-*/^., ()]/g,"")})),m.addEventListener("click",(function(){h.classList.remove("error"),w.value=k.toString();var e,t=2*+E.value+1;d.width!==t&&(d.width=d.height=t),e=l.slicedToArray(A.map((function(e){return e.div(k).toString()})),2),L[0].textContent=e[0],L[1].textContent=e[1],h.textContent="Graphing...",d.removeEventListener("mousemove",O);var n=p.value;try{q=s.evaluate("f(z) = ".concat(n)),function(e,t){var n={pev:_(t),cd:{width:d.width,height:d.height,scale:k}};e.postMessage(n)}(N,n)}catch(e){throw D(e),e}})),g[0].addEventListener("click",(function(){k*=2,m.click()})),g[1].addEventListener("click",(function(){1!==k&&(k=1,m.click())})),g[2].addEventListener("click",(function(){k/=2,m.click()})),w.addEventListener("input",(function(){if(w.value=w.value.replace(/[^0-9.]/g,""),isNaN(+E.value)&&(w.value="1"),l.toConsumableArray(w.value).filter((function(e){return"."===e})).length>1){var e=w.value.split(".");w.value=e[0]+"."+e.slice(1).join("")}})),y.addEventListener("submit",(function(e){e.preventDefault(),k!==+w.value&&(k=+w.value||0,m.click())})),E.addEventListener("input",(function(){isNaN(+E.value)&&(E.value="250"),x.style.display=+E.value>250?"inline":"none"})),S.addEventListener("submit",(function(e){e.preventDefault();var t=2*+E.value+1;d.width!==t&&(d.width=d.height=t,m.click())})),v.addEventListener("submit",(function(e){e.preventDefault(),m.click()})),m.click()}();
//# sourceMappingURL=complexgrapher.461c94a8.js.map
