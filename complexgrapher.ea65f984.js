function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire94c2;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire94c2=o),o.register("9w1g6",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("9w1g6").register(JSON.parse('{"fujT7":"complexgrapher.ea65f984.js","egthy":"main.7faf1d8b.js","2KAe5":"complexgrapher.7c882350.js"}'));var i=o("k4H8V");const a=i.create(i.all),l=document.querySelector("canvas"),u=document.querySelector("#funcForm"),c=u.querySelector("input"),s=document.querySelector("#graphButton"),d=document.querySelector("#zcoord"),f=document.querySelectorAll("button.zoom"),v=document.querySelector("#zoomForm"),p=v.querySelector("input"),m=document.querySelector("#scaleForm"),g=m.querySelector("input"),h=document.querySelector("#warning"),y=document.querySelectorAll(".domain"),w=l.getContext("2d",{alpha:!1});let L=1,S=e=>e;var E,b;b=function(e,t,n){if(t===self.location.origin)return e;var r=n?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([r],{type:"application/javascript"}))};let x=new URL(o("9w1g6").resolve("egthy"),import.meta.url);E=b(x.toString(),x.origin,!0);let k=new Worker(E);k.onmessage=function(e){let t=e.data;if("loadChunk"===t.action){let e=new ImageData(new Uint8ClampedArray(t.buf),t.chunk.width,t.chunk.height);w.putImageData(e,t.chunk.offx,t.chunk.offy)}else"done"===t.action&&(n=t.time,d.textContent=`Done in ${n}ms.`,z());var n},k.onerror=j;var q=[a.complex("-2-2i"),a.complex("2+2i")];function N(e){d.classList.remove("error"),d.textContent=`z = ${C(e.pageX-l.offsetLeft,e.pageY-l.offsetTop)}`}function C(e,t){let[n,r]=[(l.width-1)/2,(l.height-1)/2],o=(e-n)/(n/2)/L,i=-(t-r)/(r/2)/L;return a.complex(o,i)}function O(e){let t=a.simplify(e),n=a.parse("f(z) = 0"),r=!1;return"OperatorNode"!=t.type||"divide"!=t.fn||isNaN(+t.args[0])||(t.args.reverse(),t=a.simplify(t),r=!0),n.expr=t,{fstr:n.toString(),inverse:r}}function j(e){let t=e instanceof ErrorEvent?e.message:e;l.removeEventListener("mousemove",N),d.classList.add("error"),d.textContent=String(t),z()}function z(){setTimeout((()=>l.addEventListener("mousemove",N)),500)}l.addEventListener("mousemove",N),l.addEventListener("click",(e=>{let t=C(e.pageX-l.offsetLeft,e.pageY-l.offsetTop);console.log(`z = ${t},\nf(z) = ${S(t)}`)})),c.addEventListener("input",(()=>{c.value=c.value.replace(/[^a-zA-Z0-9+\-*/^., ()]/g,"")})),s.addEventListener("click",(()=>{d.classList.remove("error"),p.value=L.toString();let e=2*+g.value+1;l.width!==e&&(l.width=l.height=e),[y[0].textContent,y[1].textContent]=q.map((e=>e.div(L).toString())),d.textContent="Graphing...",l.removeEventListener("mousemove",N);let t=c.value;try{S=a.evaluate(`f(z) = ${t}`),function(e,t){let n={pev:O(t),cd:{width:l.width,height:l.height,scale:L}};e.postMessage(n)}(k,t)}catch(e){throw j(e),e}})),f[0].addEventListener("click",(()=>{L*=2,s.click()})),f[1].addEventListener("click",(()=>{1!==L&&(L=1,s.click())})),f[2].addEventListener("click",(()=>{L/=2,s.click()})),p.addEventListener("input",(()=>{if(p.value=p.value.replace(/[^0-9.]/g,""),isNaN(+g.value)&&(p.value="1"),[...p.value].filter((e=>"."===e)).length>1){var e=p.value.split(".");p.value=e[0]+"."+e.slice(1).join("")}})),v.addEventListener("submit",(e=>{e.preventDefault(),L!==+p.value&&(L=+p.value||0,s.click())})),g.addEventListener("input",(()=>{isNaN(+g.value)&&(g.value="250"),h.style.display=+g.value>250?"inline":"none"})),m.addEventListener("submit",(e=>{e.preventDefault();let t=2*+g.value+1;l.width!==t&&(l.width=l.height=t,s.click())})),u.addEventListener("submit",(e=>{e.preventDefault(),s.click()})),s.click();
//# sourceMappingURL=complexgrapher.ea65f984.js.map
