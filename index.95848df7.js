function e(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function t(e,t){return t.get?t.get.call(e):t.value}function r(r,n){return t(r,e(r,n,"get"))}function n(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function s(t,r,n){return o(t,e(t,r,"set"),n),n}function a(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function i(e,t){n(e,t),t.add(e)}function l(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function c(e,r,n){return l(e,r),l(n,"get"),t(e,n)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let h=document.querySelector(".wrapper");var d=new WeakMap,f=new WeakSet,p=new WeakSet,m=new WeakSet;class g{get squares(){return this.projectSquares.length+this.placeholderSquares.length}get cols(){return r(this,d)}set cols(e){e!=r(this,d)&&(s(this,d,e),a(this,m,y).call(this))}get rows(){return this.squares/this.cols}forEach(e){let t=0;for(let r of this.projectSquares)e(r,t++);for(let r of this.placeholderSquares)e(r,t++)}regenColors(e=!1){e||(this.corners=Array.from({length:4},(()=>function(e=0,t=256){return Array.from({length:3},(()=>function(e,t){return Math.floor(Math.random()*(t-e))+e}(e,t)))}(80))));let t=this.corners;if(r(this,d)<3){let r=[t[2],t[1]];this.assignColors((e=>function(e,t){let[r,n]=[L([0,0],t),L([S.rows-1,S.cols-1],t)],o=[n/(r+n),r/(r+n)];return Array.from({length:3},((t,r)=>{let n=b(e.map((e=>e[r])),o).map((([e,t])=>t*e*e)).reduce(((e,t)=>e+t));return Math.round(Math.sqrt(n))}))}(r,E(e))),e)}else this.assignColors((e=>function(e,t){let r=function(e,t){let[r,n]=t,[o,s]=[e.slice(0,2),e.slice(2,4)];return M([M(s,r),M(o,r)],n)}([[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],t);return Array.from({length:3},((t,n)=>{let o=b(e.map((e=>e[n])),r).map((([e,t])=>t*e*e)).reduce(((e,t)=>e+t));return Math.round(Math.sqrt(o))}))}(t,function(e){let[t,r]=E(e);return[t/(S.rows-1),r/(S.cols-1)]}(e))),e)}assignColors(e,t=!1){S.forEach(((r,n)=>{let o=e(n);t&&(r.classList.add("no-transition"),r.offsetHeight),r.style.backgroundColor=C(o),r.querySelector(".colhex").textContent=C(o)})),t&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{S.forEach((e=>{e.classList.remove("no-transition")}))}))}))}constructor(){var e,t,r;i(this,f),i(this,p),i(this,m),r={writable:!0,value:void 0},n(e=this,t=d),t.set(e,r),u(this,"corners",[[119,119,119],[119,119,119],[119,119,119],[119,119,119]]),s(this,d,+getComputedStyle(document.documentElement).getPropertyValue("--cols")),this.projectSquares=[...h.querySelectorAll("a")];for(let e of this.projectSquares){let t=document.createElement("span");t.classList.add("colhex"),e.appendChild(t),e.classList.add("box")}this.placeholderSquares=[];for(let e=this.squares;e<this.cols*c(g,g,w);e++)a(this,f,v).call(this)}}var w={writable:!0,value:3};function v(){let e=document.createElement("div"),t=document.createElement("div"),r=document.createElement("div"),n=document.createElement("span");t.classList.add("title"),r.classList.add("desc"),n.classList.add("colhex"),e.classList.add("box"),e.append(t,r,n),e.addEventListener("click",this.regenColors.bind(this,!1)),h.appendChild(e),this.placeholderSquares.push(e)}function q(){this.placeholderSquares.pop()?.remove()}function y(){let e=this.squares,t=Math.max(r(this,d)*c(g,g,w),this.projectSquares.length);if(t=Math.ceil(t/r(this,d))*r(this,d),e!=t){if(e>t)for(let r=e;r>t;r--)a(this,p,q).call(this);else if(e<t)for(let r=e;r<t;r++)a(this,f,v).call(this);this.regenColors(!0)}}let S=new g;function E(e){return[Math.floor(e/S.cols),e%S.cols]}function C(e){return`#${e.map((e=>Math.round(e).toString(16).padStart(2,"0"))).join("")}`}function b(...e){let t=e[0].length;return Array.from({length:t},((t,r)=>e.map((e=>e[r]))))}function M(e,t){let[r,n]=e,o=r.length;return Array.from({length:o},((e,o)=>{let s=r[o],a=n[o];return s+t*(a-s)}))}function L(e,t){return b(e,t).map((([e,t])=>Math.abs(e-t))).reduce(((e,t)=>e+t))}S.regenColors(),window.addEventListener("resize",(e=>{S.cols=+getComputedStyle(h).getPropertyValue("--cols")}));
//# sourceMappingURL=index.95848df7.js.map
