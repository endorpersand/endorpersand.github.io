function e(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function t(e,t){return t.get?t.get.call(e):t.value}function r(r,n){return t(r,e(r,n,"get"))}function n(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(t,r,n){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(t,e(t,r,"set"),n),n}function s(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function l(e,t){n(e,t),t.add(e)}function a(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function i(e,r,n){return a(e,r),a(n,"get"),t(e,n)}let c=document.querySelector(".wrapper");var h=new WeakMap,u=new WeakSet,d=new WeakSet,f=new WeakSet;class p{get squares(){return this.projectSquares.length+this.placeholderSquares.length}get cols(){return r(this,h)}set cols(e){e!=r(this,h)&&(o(this,h,e),s(this,f,y).call(this))}get rows(){return this.squares/this.cols}forEach(e){let t=0;for(let r of this.projectSquares)e(r,t++);for(let r of this.placeholderSquares)e(r,t++)}regenColors(){if(r(this,h)<3){let e=Array.from({length:2},(()=>v(80)));this.assignColors((t=>function(e,t){let[r,n]=[A([0,0],t),A([S.rows-1,S.cols-1],t)],o=[n/(r+n),r/(r+n)];return Array.from({length:3},((t,r)=>{let n=E(e.map((e=>e[r])),o).map((([e,t])=>t*e*e)).reduce(((e,t)=>e+t));return Math.round(Math.sqrt(n))}))}(e,q(t))))}else{let e=Array.from({length:4},(()=>v(80)));this.assignColors((t=>function(e,t){let r=function(e,t){let[r,n]=t,[o,s]=[e.slice(0,2),e.slice(2,4)];return M([M(s,r),M(o,r)],n)}([[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],t);return Array.from({length:3},((t,n)=>{let o=E(e.map((e=>e[n])),r).map((([e,t])=>t*e*e)).reduce(((e,t)=>e+t));return Math.round(Math.sqrt(o))}))}(e,function(e){let[t,r]=q(e);return[t/(S.rows-1),r/(S.cols-1)]}(t))))}}assignColors(e){S.forEach(((t,r)=>{let n=e(r);t.style.backgroundColor=C(n),t.querySelector(".colhex").textContent=C(n)}))}constructor(){var e,t,r;l(this,u),l(this,d),l(this,f),r={writable:!0,value:void 0},n(e=this,t=h),t.set(e,r),o(this,h,+getComputedStyle(c).getPropertyValue("--cols")),this.projectSquares=[...c.querySelectorAll("a")];for(let e of this.projectSquares){let t=document.createElement("span");t.classList.add("colhex"),e.appendChild(t)}this.placeholderSquares=[];for(let e=this.squares;e<this.cols*i(p,p,g);e++)s(this,u,m).call(this)}}var g={writable:!0,value:3};function m(){let e=document.createElement("a"),t=document.createElement("div"),r=document.createElement("div"),n=document.createElement("span");t.classList.add("title"),r.classList.add("desc"),n.classList.add("colhex"),e.appendChild(t),e.appendChild(r),e.appendChild(n),e.addEventListener("click",this.regenColors.bind(this)),c.appendChild(e),this.placeholderSquares.push(e)}function w(){this.placeholderSquares.pop()?.remove()}function y(){let e=this.squares,t=Math.max(r(this,h)*i(p,p,g),this.projectSquares.length);if(t=Math.ceil(t/r(this,h))*r(this,h),e!=t){if(e>t)for(let r=e;r>t;r--)s(this,d,w).call(this);else if(e<t)for(let r=e;r<t;r++)s(this,u,m).call(this);this.regenColors()}}let S=new p;function q(e){return[Math.floor(e/S.cols),e%S.cols]}function v(e=0,t=256){return Array.from({length:3},(()=>function(e,t){return Math.floor(Math.random()*(t-e))+e}(e,t)))}function C(e){return`#${e.map((e=>Math.round(e).toString(16).padStart(2,"0"))).join("")}`}function E(...e){let t=e[0].length;return Array.from({length:t},((t,r)=>e.map((e=>e[r]))))}function M(e,t){let[r,n]=e,o=r.length;return Array.from({length:o},((e,o)=>{let s=r[o],l=n[o];return s+t*(l-s)}))}function A(e,t){return E(e,t).map((([e,t])=>Math.abs(e-t))).reduce(((e,t)=>e+t))}S.regenColors(),window.addEventListener("resize",(e=>{S.cols=+getComputedStyle(c).getPropertyValue("--cols")}));
//# sourceMappingURL=index.a2bdf0ab.js.map
