!function(){function e(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function r(e){if(Array.isArray(e))return t(e)}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t){return r(t)||e(t)||n(t)||o()}var c,i,u,l,s=document.querySelector("#canvas"),f=s.getContext("2d"),d=25,m=(u=[s.width,s.height],c=(null!=u?u:[0,0]).map((function(e){return e/d})),i=2,function(e){if(Array.isArray(e))return e}(c)||e(c)||n(c,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=m[0],h=m[1],b=[[Math.floor(y/4),Math.floor(h/2)]],p="e",v="#222",w="#0b0",A="#d00",S="#fff";b.length=5;k([0,0],s.width,s.height,v,[0,0]),k(b[0],23,23,w),I();var g=setInterval(M,75);function k(e,t,n,r){var o,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],i=C(e).map((function(e,t){return e+c[t]}));f.fillStyle=r,(o=f).fillRect.apply(o,a(i).concat([t,n]))}function I(){do{l=[Math.floor(Math.random()*y),Math.floor(Math.random()*h)]}while(b.some((function(e){return K(e,l)})));k(l,23,23,A)}function M(){var e,t=a(b[0]);switch(p){case"n":t[1]--;break;case"e":t[0]++;break;case"s":t[1]++;break;case"w":t[0]--}K(l,t)||k(b.pop(),27,27,v,[-1,-1]);K(l,t)&&I(),function(e,t){return e.some((function(e){return K(e,t)}))}(b,t)&&x(),((e=t)[0]<0||e[0]>=y||e[1]<0||e[1]>=h)&&x(),b.unshift(t),function(e){switch(p){case"n":k(e,23,d,w);break;case"e":k(e,d,23,w,[-1,1]);break;case"s":k(e,23,d,w,[1,-1]);break;case"w":k(e,d,23,w)}}(t),document.querySelector("#score").textContent="Score: ".concat(b.length)}function x(){var e,t;clearInterval(g),f.fillStyle=S,f.font="".concat(250*s.width/700,"px 'Comic Sans MS', 'Papyrus', 'Impact', fantasy, cursive, sans-serif"),f.textAlign="center",f.textBaseline="middle",f.fillText("F",s.width/2,s.height/2),document.onkeydown=function(e){return"r"==e.key?location.reload():void 0},document.onfocus=null;var n=document.createElement("button");n.textContent="Restart",n.onclick=function(){return location.reload()},null===(e=document.querySelector("#score"))||void 0===e||null===(t=e.parentElement)||void 0===t||t.appendChild(n)}function C(e){return(null!=e?e:[0,0]).map((function(e){return e*d}))}function K(e,t){return e.every((function(e,n){return e==t[n]}))}document.onkeydown=function(e){switch(e.code){case"KeyW":case"ArrowUp":"s"!=p&&"n"!=p&&(p="n",M());break;case"KeyA":case"ArrowLeft":"e"!=p&&"w"!=p&&(p="w",M());break;case"KeyS":case"ArrowDown":"s"!=p&&"n"!=p&&(p="s",M());break;case"KeyD":case"ArrowRight":"e"!=p&&"w"!=p&&(p="e",M());break;case"KeyR":x()}},document.onblur=function(){clearInterval(g),g=void 0},document.onfocus=function(){g=g||setInterval(M,75)}}();
//# sourceMappingURL=snake.e99f4218.js.map
