!function(){function r(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function t(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function e(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function n(r){if(Array.isArray(r))return r}function o(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function u(r,t){if(r){if("string"==typeof r)return i(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(r,t):void 0}}function c(r,t){return n(r)||o(r)||u(r,t)||a()}function l(r){if(Array.isArray(r))return i(r)}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(r){return l(r)||o(r)||u(r)||s()}var h=document.querySelector(".wrapper"),d=function(){"use strict";function n(){r(this,n),e(this,"corners",[[119,119,119],[119,119,119],[119,119,119],[119,119,119]]),this._cols=+getComputedStyle(document.documentElement).getPropertyValue("--cols"),this.projectSquares=f(h.querySelectorAll("a"));var t=!0,o=!1,a=void 0;try{for(var i,u=this.projectSquares[Symbol.iterator]();!(t=(i=u.next()).done);t=!0){var c=i.value,l=document.createElement("span");l.classList.add("colhex"),c.appendChild(l),c.classList.add("box")}}catch(r){o=!0,a=r}finally{try{t||null==u.return||u.return()}finally{if(o)throw a}}this.placeholderSquares=[];for(var s=this.squares;s<this.cols*n._MIN_ROWS;s++)this._addSquare()}var o,a,i;return o=n,a=[{key:"squares",get:function(){return this.projectSquares.length+this.placeholderSquares.length}},{key:"cols",get:function(){return this._cols},set:function(r){r!=this._cols&&(this._cols=r,this._rebalance())}},{key:"rows",get:function(){return this.squares/this.cols}},{key:"_addSquare",value:function(){var r=document.createElement("div"),t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("span");t.classList.add("title"),e.classList.add("desc"),n.classList.add("colhex"),r.classList.add("box"),r.append(t,e,n),r.addEventListener("click",this.regenColors.bind(this,!1)),h.appendChild(r),this.placeholderSquares.push(r)}},{key:"_removeSquare",value:function(){var r;null===(r=this.placeholderSquares.pop())||void 0===r||r.remove()}},{key:"_rebalance",value:function(){var r=this.squares,t=Math.max(this._cols*n._MIN_ROWS,this.projectSquares.length);if(r!=(t=Math.ceil(t/this._cols)*this._cols)){if(r>t)for(var e=r;e>t;e--)this._removeSquare();else if(r<t)for(var o=r;o<t;o++)this._addSquare();this.regenColors(!0)}}},{key:"forEach",value:function(r){var t=0,e=!0,n=!1,o=void 0;try{for(var a,i=this.projectSquares[Symbol.iterator]();!(e=(a=i.next()).done);e=!0)r(a.value,t++)}catch(r){n=!0,o=r}finally{try{e||null==i.return||i.return()}finally{if(n)throw o}}var u=!0,c=!1,l=void 0;try{for(var s,f=this.placeholderSquares[Symbol.iterator]();!(u=(s=f.next()).done);u=!0)r(s.value,t++)}catch(r){c=!0,l=r}finally{try{u||null==f.return||f.return()}finally{if(c)throw l}}}},{key:"regenColors",value:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r||(this.corners=Array.from({length:4},(function(){return g(80)})));var t=this.corners;if(this._cols<3){var e=[t[2],t[1]];this.assignColors((function(r){return A(e,y(r))}),r)}else this.assignColors((function(r){return _(t,m(r))}),r)}},{key:"assignColors",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];v.forEach((function(e,n){var o=r(n);t&&(e.classList.add("no-transition"),e.offsetHeight),e.style.backgroundColor=S(o),e.querySelector(".colhex").textContent=S(o)})),t&&requestAnimationFrame((function(){requestAnimationFrame((function(){v.forEach((function(r){r.classList.remove("no-transition")}))}))}))}}],a&&t(o.prototype,a),i&&t(o,i),n}();e(d,"_MIN_ROWS",3);var v=new d;function y(r){return[Math.floor(r/v.cols),r%v.cols]}function m(r){var t=c(y(r),2),e=t[0],n=t[1];return[e/(v.rows-1),n/(v.cols-1)]}function p(r,t){return Math.floor(Math.random()*(t-r))+r}function g(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256;return Array.from({length:3},(function(){return p(r,t)}))}function S(r){return"#".concat(r.map((function(r){return Math.round(r).toString(16).padStart(2,"0")})).join(""))}function b(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var n=t[0].length;return Array.from({length:n},(function(r,e){return t.map((function(r){return r[e]}))}))}function q(r,t){var e=c(r,2),n=e[0],o=e[1],a=n.length;return Array.from({length:a},(function(r,e){var a=n[e],i=o[e];return a+t*(i-a)}))}function _(r,t){var e=function(r,t){var e=c(t,2),n=e[0],o=e[1],a=[r.slice(0,2),r.slice(2,4)],i=a[0];return q([q(a[1],n),q(i,n)],o)}([[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],t);return Array.from({length:3},(function(t,n){var o=b(r.map((function(r){return r[n]})),e).map((function(r){var t=c(r,2),e=t[0];return t[1]*e*e})).reduce((function(r,t){return r+t}));return Math.round(Math.sqrt(o))}))}function w(r,t){return b(r,t).map((function(r){var t=c(r,2),e=t[0],n=t[1];return Math.abs(e-n)})).reduce((function(r,t){return r+t}))}function A(r,t){var e=[w([0,0],t),w([v.rows-1,v.cols-1],t)],n=e[0],o=e[1],a=[o/(n+o),n/(n+o)];return Array.from({length:3},(function(t,e){var n=b(r.map((function(r){return r[e]})),a).map((function(r){var t=c(r,2),e=t[0];return t[1]*e*e})).reduce((function(r,t){return r+t}));return Math.round(Math.sqrt(n))}))}v.regenColors(),window.addEventListener("resize",(function(r){v.cols=+getComputedStyle(h).getPropertyValue("--cols")}))}();
//# sourceMappingURL=index.95167606.js.map
