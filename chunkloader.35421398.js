!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequire94c2;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequire94c2=r),importScripts("./main.66bf90c5.js"),importScripts("./chunkloader.6b4af37c.js");var o=r("2DZam"),a=r("209r1"),u=(r("209r1"),r("51JoR")),c=r("RN0x4"),f=r("ingza"),p=r("doFec");function s(e){return(0,u.default)(e)||(0,c.default)(e)||(0,p.default)(e,i)||(0,f.default)()}var l,d,h=r("5Ndaw"),m=(a=r("209r1"),(0,h.create)(h.all)),v={pi:a.Complex.PI,e:a.Complex.E,i:a.Complex.I,inf:a.Complex.INFINITY,infinity:a.Complex.INFINITY,epsilon:a.Complex.EPSILON,nan:a.Complex.NAN},y={gamma:function(){return m.gamma(this)},ln:a.Complex.prototype.log},w={add:a.Complex.prototype.add,unaryPlus:function(){return this},subtract:a.Complex.prototype.sub,unaryMinus:a.Complex.prototype.neg,multiply:a.Complex.prototype.mul,divide:a.Complex.prototype.div,pow:a.Complex.prototype.pow,factorial:function(){return m.gamma(this.add(1))}};function g(e){var t=e.name;if("z"===(t=t.toLowerCase()))return{type:"z"};if(l.isMethod(t))return{type:"method",f:l.get(t)};if(t in v)return{type:"constant",value:v[t]};if(t in y)return{type:"method",f:y[t]};throw new Error("Unrecognized symbol [".concat(t,"]"))}function x(e,t){if("constant"===e.type)return e.value;if("function"===e.type)return e.f(t);if("z"===e.type)return t;throw new Error("Unrecognized fold result ".concat(e.type))}function C(e,t){var n=t.map((function(e){return E(e)}));if(n.every((function(e){return"constant"===e.type}))){var r=s(n.map((function(e){return e.value}))),o=r[0],i=r.slice(1),u=(0,a.Complex)(o);return{type:"constant",value:e.apply(u,i)}}var c=s(n),f=c[0],p=c.slice(1);return{type:"function",f:function(t){var n=(0,a.Complex)(x(f,t)),r=p.map((function(e){return x(e,t)}));return e.apply(n,r)}}}function E(e){switch(e.type){case"ConstantNode":return{type:"constant",value:e.value};case"FunctionNode":var t=g(e.fn);if("method"===t.type)return C(t.f,e.args);if("constant"===t.type)throw new Error("Expected function, got constant [".concat(e.fn.name," = ").concat(t.value,"]"));if("z"===t.type)throw new Error("Expected function, got [z]");throw new Error("Expected function, got [".concat(t.type,"]"));case"OperatorNode":var n=function(e,t){if(t in e)return e[t]}(w,e.fn),r=n?C(n,e.args):void 0;if(void 0===r)throw new Error("Unexpected operator [".concat(e.op,"]"));return r;case"ParenthesisNode":return E(e.content);case"SymbolNode":var o=g(e);if("method"===o.type)throw new Error("Unexpected function [".concat(e.name,"]"));return o;default:throw new Error("Cannot parse [".concat(e.type,"] into complex function"))}}function b(e){var t=E(m.parse(e));switch(t.type){case"constant":return{type:"constant",f:t.value};case"function":return t;case"z":return{type:"function",f:function(e){return e}};default:throw new Error("Invalid fold result type ".concat(t.type))}}(d=l||(l={})).isMethod=function(e){return e in a.Complex.prototype},d.get=function(e){var t=a.Complex.prototype[e];return t instanceof Function?t:function(){return this[e]}},d.wrap=function(e){return function(){return e(this)}};function N(e,t,n){var r=e.evaluator,i=e.inverse,u=n.width,c=n.height,f=new ArrayBuffer(4*u*c),p=new Uint32Array(f);if("constant"===r.type){var s=(0,a.Complex)(r.f);p.fill(I(s.abs(),s.arg(),i))}else for(var l=function(e){for(var r=Uint32Array.from({length:u},(function(r,u){var c=(0,a.Complex)(d(function(e,t,n,r){var i=n.width,u=n.height,c=n.scale,f=(0,o.default)(n.center,2),p=f[0],s=f[1],l=r.offx,d=r.offy,h=c*i/u,m=c,v=[(i-1)/2,(u-1)/2],y=v[0],w=v[1],g=[(e+l-y)/y,-(t+d-w)/w],x=g[0],C=g[1];return(0,a.Complex)(p+x*h,s+C*m)}(1*Math.floor(u/1),e,t,n)));return I(c.abs(),c.arg(),i)})),f=0;f<1&&e+f<c;f++){var s=(e+f)*u;p.set(r,s)}},d=r.f,h=0;h<c;h+=1)l(h);return f}function I(e,t,n){var r,o,a,i=M(3*t/Math.PI,6);return n&&(i=6-i),function(e,t,n){var r,o,a,i,u,c,f,p,s,l,d,h,m;r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(M(e,2)-1)),a=n-r/2,0<=e&&e<1?(i=(f=[r,o,0])[0],u=f[1],c=f[2]):1<=e&&e<2?(i=(p=[o,r,0])[0],u=p[1],c=p[2]):2<=e&&e<3?(i=(s=[0,r,o])[0],u=s[1],c=s[2]):3<=e&&e<4?(i=(l=[0,o,r])[0],u=l[1],c=l[2]):4<=e&&e<5?(i=(d=[o,0,r])[0],u=d[1],c=d[2]):5<=e&&e<6?(i=(h=[r,0,o])[0],u=h[1],c=h[2]):(i=(m=[r,o,0])[0],u=m[1],c=m[2]);return-16777216|255*(c+a)<<16|255*(u+a)<<8|255*(i+a)}(i,1,(r=e,o=n,a=1/(Math.sqrt(r)+1),o?1-a:a))}function M(e,t){return(e%t+t)%t}onmessage=function(e){var t=e.data;if("init"!==t.action){var n=t.pev,r=t.cd,o=t.graphID,a=function(e){var t=e.fstr,n=e.inverse;return{evaluator:b(t),inverse:n}}(n);if("chunkRequest"===t.action){var i=t.chunk,u=N(a,r,i);postMessage({action:"chunkDone",buf:u,chunk:i,graphID:o},[u])}else{if("mainRequest"!==t.action){throw new Error("Unrecognized request into chunkLoader")}for(var c=performance.now(),f=0;f<r.width;f+=100)for(var p=0;p<r.height;p+=100){var s={width:100,height:100,offx:f,offy:p},l=N(a,r,s),d={action:"chunkDone",buf:l,chunk:s,graphID:o};postMessage(d,[l]),console.log(d)}var h={action:"done",time:Math.trunc(performance.now()-c),graphID:o};postMessage(h)}}else self.postMessage({action:"ready"})}}();
//# sourceMappingURL=chunkloader.35421398.js.map
