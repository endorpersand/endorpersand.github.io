!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire94c2;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire94c2=o),o.register("99ZC5",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("99ZC5").register(JSON.parse('{"5Hjnn":"complexgrapher.7dfa2f4f.js","egthy":"main.7faf1d8b.js","aUCA8":"complexgrapher.7679bfe1.js"}'));var i,a,c,u,l=o("iFC9j"),f=o("gm66E"),s=f.create(f.all),v=document.querySelector("canvas"),d=document.querySelector("#funcForm"),p=d.querySelector("input"),m=document.querySelector("#graphButton"),g=document.querySelector("#zcoord"),h=document.querySelectorAll("button.zoom"),y=document.querySelector("#zoomForm"),w=y.querySelector("input"),E=document.querySelector("#scaleForm"),L=E.querySelector("input"),S=document.querySelector("#warning"),x=document.querySelectorAll(".domain"),k=v.getContext("2d",{alpha:!1}),b=1,C=function(e){return e};a=function(e,t,n){if(t===self.location.origin)return e;var r=n?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([r],{type:"application/javascript"}))};var q={};function N(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}c=function(e){var t=q[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return N(e[2])}return"/"}(),q[e]=t),t},u=function(e){var t=(""+e).match(/(https?|file|ftp):\/\/[^/]+/);if(!t)throw new Error("Origin not found");return t[0]};var j=c("5Hjnn")+o("99ZC5").resolve("egthy");i=a(j,u(j),!1);var O=new Worker(i);O.onmessage=function(e){var t,n=e.data;if("loadChunk"===n.action){var r=new ImageData(new Uint8ClampedArray(n.buf),n.chunk.width,n.chunk.height);k.putImageData(r,n.chunk.offx,n.chunk.offy)}else"done"===n.action&&(t=n.time,g.textContent="Done in ".concat(t,"ms."),_())},O.onerror=H;var A=[s.complex("-2-2i"),s.complex("2+2i")];function z(e){g.classList.remove("error"),g.textContent="z = ".concat(D(e.pageX-v.offsetLeft,e.pageY-v.offsetTop))}function D(e,t){var n=[(v.width-1)/2,(v.height-1)/2],r=n[0],o=n[1],i=(e-r)/(r/2)/b,a=-(t-o)/(o/2)/b;return s.complex(i,a)}function F(e){var t=s.simplify(e),n=s.parse("f(z) = 0"),r=!1;return"OperatorNode"!=t.type||"divide"!=t.fn||isNaN(+t.args[0])||(t.args.reverse(),t=s.simplify(t),r=!0),n.expr=t,{fstr:n.toString(),inverse:r}}function H(e){var t=e instanceof ErrorEvent?e.message:e;v.removeEventListener("mousemove",z),g.classList.add("error"),g.textContent=String(t),_()}function _(){setTimeout((function(){return v.addEventListener("mousemove",z)}),500)}v.addEventListener("mousemove",z),v.addEventListener("click",(function(e){var t=D(e.pageX-v.offsetLeft,e.pageY-v.offsetTop);console.log("z = ".concat(t,",\nf(z) = ").concat(C(t)))})),p.addEventListener("input",(function(){p.value=p.value.replace(/[^a-zA-Z0-9+\-*/^., ()]/g,"")})),m.addEventListener("click",(function(){g.classList.remove("error"),w.value=b.toString();var e,t=2*+L.value+1;v.width!==t&&(v.width=v.height=t),e=l.slicedToArray(A.map((function(e){return e.div(b).toString()})),2),x[0].textContent=e[0],x[1].textContent=e[1],g.textContent="Graphing...",v.removeEventListener("mousemove",z);var n=p.value;try{C=s.evaluate("f(z) = ".concat(n)),function(e,t){var n={pev:F(t),cd:{width:v.width,height:v.height,scale:b}};e.postMessage(n)}(O,n)}catch(e){throw H(e),e}})),h[0].addEventListener("click",(function(){b*=2,m.click()})),h[1].addEventListener("click",(function(){1!==b&&(b=1,m.click())})),h[2].addEventListener("click",(function(){b/=2,m.click()})),w.addEventListener("input",(function(){if(w.value=w.value.replace(/[^0-9.]/g,""),isNaN(+L.value)&&(w.value="1"),l.toConsumableArray(w.value).filter((function(e){return"."===e})).length>1){var e=w.value.split(".");w.value=e[0]+"."+e.slice(1).join("")}})),y.addEventListener("submit",(function(e){e.preventDefault(),b!==+w.value&&(b=+w.value||0,m.click())})),L.addEventListener("input",(function(){isNaN(+L.value)&&(L.value="250"),S.style.display=+L.value>250?"inline":"none"})),E.addEventListener("submit",(function(e){e.preventDefault();var t=2*+L.value+1;v.width!==t&&(v.width=v.height=t,m.click())})),d.addEventListener("submit",(function(e){e.preventDefault(),m.click()})),m.click()}();
//# sourceMappingURL=complexgrapher.7dfa2f4f.js.map
