const e=document.querySelector("canvas"),t=e.getContext("2d");let l=document.querySelector("input[name='ipol'][checked]").value,r=document.querySelectorAll("input[type=radio]"),n=document.querySelector("#coloradd"),a=document.querySelector("#colors");function o(){return document.querySelectorAll(".colorrm")}function c(e,t,l){return Math.hypot(e*Math.sqrt(1-l),t*Math.sqrt(l))}function d(){let r=[...document.querySelectorAll("input[type=color]")].map((e=>e.value)),n=r.length-1;switch(l){case"lin":let l=t.createLinearGradient(0,0,e.width,0);for(var[a,o]of r.entries())l.addColorStop(a/n,o);t.fillStyle=l;break;case"rms":let d;"OffscreenCanvas"in globalThis?d=new OffscreenCanvas(e.width,1):(d=document.createElement("canvas"),[d.width,d.height]=[e.width,1]);let i=d.getContext("2d"),u=i.createImageData(d.width,1),h=new Uint32Array(u.data.buffer),s=h.length-1;for(var a=0;a<h.length;a++){let e=a/s*n,[t,l]=[Math.floor(e),e%1],[o,d]=[r[t],r[t+1]??"#000000"].map((e=>{return[(t=e).slice(1,3),t.slice(3,5),t.slice(5,7)].map((e=>parseInt(e,16)));var t})),i=Array.from({length:3},((e,t)=>c(o[t],d[t],l)));h[a]=-16777216|i[2]<<16|i[1]<<8|i[0]<<0}i.putImageData(u,0,0);let m=t.createPattern(d,"repeat-y");t.fillStyle=m}t.fillRect(0,0,e.width,e.height)}document.querySelectorAll("input[type=color]").forEach((e=>e.addEventListener("change",d))),r.forEach((e=>e.addEventListener("change",(t=>{l=e.value,d()})))),n.addEventListener("click",(()=>{let e=function(e="#000000"){let t=document.createElement("div"),l=document.createElement("input");l.type="color",l.value=e,l.addEventListener("change",d);let r=document.createElement("button");return r.classList.add("colorrm"),r.textContent="x",r.addEventListener("click",(()=>{a.removeChild(r.parentElement);let e=o();if(e.length<3)for(let t of e)t.disabled=!0;d()})),t.appendChild(l),t.appendChild(r),t}();a.insertBefore(e,n);let t=o();if(t.length>2)for(let e of t)e.disabled=!1;d()})),document.querySelectorAll(".colorrm").forEach((e=>e.addEventListener("click",(()=>{a.removeChild(e.parentElement);let t=o();if(t.length<3)for(let e of t)e.disabled=!0;d()})))),d();
//# sourceMappingURL=gradient.bab615ac.js.map
