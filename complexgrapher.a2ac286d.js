function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire94c2;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire94c2=o),o.register("lTVAv",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("lTVAv").register(JSON.parse('{"fujT7":"complexgrapher.a2ac286d.js","egthy":"main.74faf48c.js","1GZwD":"main.f471310d.js","2KAe5":"complexgrapher.f7ee9edc.js"}'));var i=o("bNTvN");const l=(0,i.create)(i.all),a=document.querySelector("canvas"),u=document.querySelector("#funcForm"),c=u.querySelector("input"),s=document.querySelector("#graphButton"),d=document.querySelector("#zcoord"),v=document.querySelectorAll("button.zoom"),f=document.querySelector("#zoomForm"),p=f.querySelector("input"),m=document.querySelector("#scaleForm"),g=m.querySelector("input"),h=document.querySelector("#warning"),y=document.querySelectorAll(".domain"),w=a.getContext("2d",{alpha:!1});let S=1,b=e=>e;var E,L;L=function(e,t,n){if(t===self.location.origin)return e;var r=n?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([r],{type:"application/javascript"}))};let x=new URL(o("lTVAv").resolve("egthy"),import.meta.url);E=L(x.toString(),x.origin,!0);let k=new Worker(E);k.onmessage=function(e){let t=e.data;if("loadChunk"===t.action){let e=new ImageData(new Uint8ClampedArray(t.buf),t.chunk.width,t.chunk.height);w.putImageData(e,t.chunk.offx,t.chunk.offy)}else"done"===t.action&&(n=t.time,d.textContent=`Done in ${n}ms.`,j());var n},k.onerror=T;var q=[l.complex("-2-2i"),l.complex("2+2i")];function N(e){d.classList.remove("error"),d.textContent=`z = ${A(e.pageX-a.offsetLeft,e.pageY-a.offsetTop)}`}function A(e,t){let[n,r]=[(a.width-1)/2,(a.height-1)/2],o=(e-n)/(n/2)/S,i=-(t-r)/(r/2)/S;return l.complex(o,i)}function C(e){let t=l.simplify(e),n=l.parse("f(z) = 0"),r=!1;return"OperatorNode"!=t.type||"divide"!=t.fn||isNaN(+t.args[0])||(t.args.reverse(),t=l.simplify(t),r=!0),n.expr=t,{fstr:n.toString(),inverse:r}}function T(e){let t=e instanceof ErrorEvent?e.message:e;a.removeEventListener("mousemove",N),d.classList.add("error"),d.textContent=String(t),j()}function j(){setTimeout((()=>a.addEventListener("mousemove",N)),500)}a.addEventListener("mousemove",N),a.addEventListener("click",(e=>{let t=A(e.pageX-a.offsetLeft,e.pageY-a.offsetTop);console.log(`z = ${t},\nf(z) = ${b(t)}`)})),c.addEventListener("input",(()=>{c.value=c.value.replace(/[^a-zA-Z0-9+\-*/^., ()]/g,"")})),s.addEventListener("click",(()=>{d.classList.remove("error"),p.value=S.toString();let e=2*+g.value+1;a.width!==e&&(a.width=a.height=e),[y[0].textContent,y[1].textContent]=q.map((e=>e.div(S).toString())),d.textContent="Graphing...",a.removeEventListener("mousemove",N);let t=c.value;try{b=l.evaluate(`f(z) = ${t}`),function(e,t){let n={pev:C(t),cd:{width:a.width,height:a.height,scale:S}};e.postMessage(n)}(k,t)}catch(e){throw T(e),e}})),v[0].addEventListener("click",(()=>{S*=2,s.click()})),v[1].addEventListener("click",(()=>{1!==S&&(S=1,s.click())})),v[2].addEventListener("click",(()=>{S/=2,s.click()})),p.addEventListener("input",(()=>{if(p.value=p.value.replace(/[^0-9.]/g,""),isNaN(+g.value)&&(p.value="1"),[...p.value].filter((e=>"."===e)).length>1){var e=p.value.split(".");p.value=e[0]+"."+e.slice(1).join("")}})),f.addEventListener("submit",(e=>{e.preventDefault(),S!==+p.value&&(S=+p.value||0,s.click())})),g.addEventListener("input",(()=>{isNaN(+g.value)&&(g.value="250"),h.style.display=+g.value>250?"inline":"none"})),m.addEventListener("submit",(e=>{e.preventDefault();let t=2*+g.value+1;a.width!==t&&(a.width=a.height=t,s.click())})),u.addEventListener("submit",(e=>{e.preventDefault(),s.click()})),s.click();
//# sourceMappingURL=complexgrapher.a2ac286d.js.map
