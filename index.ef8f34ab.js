!function(){function t(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function r(t,r,e){if(!r.has(t))throw new TypeError("attempted to "+e+" private field on non-instance");return r.get(t)}function e(t,r){return r.get?r.get.call(t):r.value}function n(t,n){return e(t,r(t,n,"get"))}function o(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a(t,r,e){if(r.set)r.set.call(t,e);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=e}}function i(t,e,n){return a(t,r(t,e,"set"),n),n}function u(t,r,e){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return e}function c(t,r){o(t,r),r.add(t)}function s(t,r){if(t!==r)throw new TypeError("Private static access of wrong provenance")}function l(t,r,n){return s(t,r),s(n,"get"),e(t,n)}function f(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function d(t){if(Array.isArray(t))return t}function v(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function m(t,r){if(t){if("string"==typeof t)return p(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?p(t,r):void 0}}function g(t,r){return d(t)||v(t)||m(t,r)||y()}function w(t){if(Array.isArray(t))return p(t)}function b(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(t){return w(t)||v(t)||m(t)||b()}var q=document.querySelector(".wrapper"),A=new WeakMap,E=new WeakSet,C=new WeakSet,j=new WeakSet,k=function(){"use strict";function r(){var e,n,a;t(this,r),c(this,E),c(this,C),c(this,j),a={writable:!0,value:void 0},o(e=this,n=A),n.set(e,a),h(this,"corners",[[119,119,119],[119,119,119],[119,119,119],[119,119,119]]),i(this,A,+getComputedStyle(document.documentElement).getPropertyValue("--cols")),this.projectSquares=S(q.querySelectorAll("a"));var s=!0,f=!1,d=void 0;try{for(var v,y=this.projectSquares[Symbol.iterator]();!(s=(v=y.next()).done);s=!0){var p=v.value,m=document.createElement("span");m.classList.add("colhex"),p.appendChild(m),p.classList.add("box")}}catch(t){f=!0,d=t}finally{try{s||null==y.return||y.return()}finally{if(f)throw d}}this.placeholderSquares=[];for(var g=this.squares;g<this.cols*l(r,r,M);g++)u(this,E,x).call(this)}var e,a,s;return e=r,a=[{key:"squares",get:function(){return this.projectSquares.length+this.placeholderSquares.length}},{key:"cols",get:function(){return n(this,A)},set:function(t){t!=n(this,A)&&(i(this,A,t),u(this,j,T).call(this))}},{key:"rows",get:function(){return this.squares/this.cols}},{key:"forEach",value:function(t){var r=0,e=!0,n=!1,o=void 0;try{for(var a,i=this.projectSquares[Symbol.iterator]();!(e=(a=i.next()).done);e=!0)t(a.value,r++)}catch(t){n=!0,o=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw o}}var u=!0,c=!1,s=void 0;try{for(var l,f=this.placeholderSquares[Symbol.iterator]();!(u=(l=f.next()).done);u=!0)t(l.value,r++)}catch(t){c=!0,s=t}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}}},{key:"regenColors",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||(this.corners=Array.from({length:4},(function(){return z(80)})));var r=this.corners;if(n(this,A)<3){var e=[r[2],r[1]];this.assignColors((function(t){return B(e,P(t))}),t)}else this.assignColors((function(t){return U(r,O(t))}),t)}},{key:"assignColors",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];I.forEach((function(e,n){var o=t(n);r&&(e.classList.add("no-transition"),e.offsetHeight),e.style.backgroundColor=F(o),e.querySelector(".colhex").textContent=F(o)})),r&&requestAnimationFrame((function(){requestAnimationFrame((function(){I.forEach((function(t){t.classList.remove("no-transition")}))}))}))}}],a&&f(e.prototype,a),s&&f(e,s),r}(),M={writable:!0,value:3};function x(){var t=document.createElement("div"),r=document.createElement("div"),e=document.createElement("div"),n=document.createElement("span");r.classList.add("title"),e.classList.add("desc"),n.classList.add("colhex"),t.classList.add("box"),t.append(r,e,n),t.addEventListener("click",this.regenColors.bind(this,!1)),q.appendChild(t),this.placeholderSquares.push(t)}function L(){var t;null===(t=this.placeholderSquares.pop())||void 0===t||t.remove()}function T(){var t=this.squares,r=Math.max(n(this,A)*l(k,k,M),this.projectSquares.length);if(t!=(r=Math.ceil(r/n(this,A))*n(this,A))){if(t>r)for(var e=t;e>r;e--)u(this,C,L).call(this);else if(t<r)for(var o=t;o<r;o++)u(this,E,x).call(this);this.regenColors(!0)}}var I=new k;function P(t){return[Math.floor(t/I.cols),t%I.cols]}function O(t){var r=g(P(t),2),e=r[0],n=r[1];return[e/(I.rows-1),n/(I.cols-1)]}function W(t,r){return Math.floor(Math.random()*(r-t))+t}function z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256;return Array.from({length:3},(function(){return W(t,r)}))}function F(t){return"#".concat(t.map((function(t){return Math.round(t).toString(16).padStart(2,"0")})).join(""))}function V(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=r[0].length;return Array.from({length:n},(function(t,e){return r.map((function(t){return t[e]}))}))}function H(t,r){var e=g(t,2),n=e[0],o=e[1],a=n.length;return Array.from({length:a},(function(t,e){var a=n[e],i=o[e];return a+r*(i-a)}))}function U(t,r){var e=function(t,r){var e=g(r,2),n=e[0],o=e[1],a=[t.slice(0,2),t.slice(2,4)],i=a[0];return H([H(a[1],n),H(i,n)],o)}([[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],r);return Array.from({length:3},(function(r,n){var o=V(t.map((function(t){return t[n]})),e).map((function(t){var r=g(t,2),e=r[0];return r[1]*e*e})).reduce((function(t,r){return t+r}));return Math.round(Math.sqrt(o))}))}function $(t,r){return V(t,r).map((function(t){var r=g(t,2),e=r[0],n=r[1];return Math.abs(e-n)})).reduce((function(t,r){return t+r}))}function B(t,r){var e=[$([0,0],r),$([I.rows-1,I.cols-1],r)],n=e[0],o=e[1],a=[o/(n+o),n/(n+o)];return Array.from({length:3},(function(r,e){var n=V(t.map((function(t){return t[e]})),a).map((function(t){var r=g(t,2),e=r[0];return r[1]*e*e})).reduce((function(t,r){return t+r}));return Math.round(Math.sqrt(n))}))}I.regenColors(),window.addEventListener("resize",(function(t){I.cols=+getComputedStyle(q).getPropertyValue("--cols")}))}();
//# sourceMappingURL=index.ef8f34ab.js.map
