function e(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function t(e,t){return t.get?t.get.call(e):t.value}function r(r,n){return t(r,e(r,n,"get"))}function n(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(t,r,n){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(t,e(t,r,"set"),n),n}function s(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function a(e,t){n(e,t),t.add(e)}function i(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function l(e,r,n){return i(e,r),i(n,"get"),t(e,n)}let c=document.querySelector(".wrapper");var u=new WeakMap,h=new WeakSet,f=new WeakSet,d=new WeakSet;class p{get squares(){return this.projectSquares.length+this.placeholderSquares.length}get cols(){return r(this,u)}set cols(e){e!=r(this,u)&&(o(this,u,e),s(this,d,q).call(this))}get rows(){return this.squares/this.cols}forEach(e){let t=0;for(let r of this.projectSquares)e(r,t++);for(let r of this.placeholderSquares)e(r,t++)}regenColors(e=!1){e||(this.corners=Array.from({length:4},(()=>function(e=0,t=256){return Array.from({length:3},(()=>function(e,t){return Math.floor(Math.random()*(t-e))+e}(e,t)))}(80))));let t=this.corners;if(r(this,u)<3){let r=[t[2],t[1]];this.assignColors((e=>function(e,t){let[r,n]=[M([0,0],t),M([v.rows-1,v.cols-1],t)],o=[n/(r+n),r/(r+n)];return Array.from({length:3},((t,r)=>{let n=C(e.map((e=>e[r])),o).map((([e,t])=>t*e*e)).reduce(((e,t)=>e+t));return Math.round(Math.sqrt(n))}))}(r,y(e))),e)}else this.assignColors((e=>function(e,t){let r=function(e,t){let[r,n]=t,[o,s]=[e.slice(0,2),e.slice(2,4)];return E([E(s,r),E(o,r)],n)}([[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],t);return Array.from({length:3},((t,n)=>{let o=C(e.map((e=>e[n])),r).map((([e,t])=>t*e*e)).reduce(((e,t)=>e+t));return Math.round(Math.sqrt(o))}))}(t,function(e){let[t,r]=y(e);return[t/(v.rows-1),r/(v.cols-1)]}(e))),e)}assignColors(e,t=!1){v.forEach(((r,n)=>{let o=e(n);t&&(r.classList.add("no-transition"),r.offsetHeight),r.style.backgroundColor=S(o),r.querySelector(".colhex").textContent=S(o)})),t&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{v.forEach((e=>{e.classList.remove("no-transition")}))}))}))}constructor(){var e,t,r;a(this,h),a(this,f),a(this,d),r={writable:!0,value:void 0},n(e=this,t=u),t.set(e,r),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"corners",[[119,119,119],[119,119,119],[119,119,119],[119,119,119]]),o(this,u,+getComputedStyle(c).getPropertyValue("--cols")),this.projectSquares=[...c.querySelectorAll("a")];for(let e of this.projectSquares){let t=document.createElement("span");t.classList.add("colhex"),e.appendChild(t)}this.placeholderSquares=[];for(let e=this.squares;e<this.cols*l(p,p,m);e++)s(this,h,g).call(this)}}var m={writable:!0,value:3};function g(){let e=document.createElement("a"),t=document.createElement("div"),r=document.createElement("div"),n=document.createElement("span");t.classList.add("title"),r.classList.add("desc"),n.classList.add("colhex"),e.appendChild(t),e.appendChild(r),e.appendChild(n),e.addEventListener("click",this.regenColors.bind(this,!1)),c.appendChild(e),this.placeholderSquares.push(e)}function w(){this.placeholderSquares.pop()?.remove()}function q(){let e=this.squares,t=Math.max(r(this,u)*l(p,p,m),this.projectSquares.length);if(t=Math.ceil(t/r(this,u))*r(this,u),e!=t){if(e>t)for(let r=e;r>t;r--)s(this,f,w).call(this);else if(e<t)for(let r=e;r<t;r++)s(this,h,g).call(this);this.regenColors(!0)}}let v=new p;function y(e){return[Math.floor(e/v.cols),e%v.cols]}function S(e){return`#${e.map((e=>Math.round(e).toString(16).padStart(2,"0"))).join("")}`}function C(...e){let t=e[0].length;return Array.from({length:t},((t,r)=>e.map((e=>e[r]))))}function E(e,t){let[r,n]=e,o=r.length;return Array.from({length:o},((e,o)=>{let s=r[o],a=n[o];return s+t*(a-s)}))}function M(e,t){return C(e,t).map((([e,t])=>Math.abs(e-t))).reduce(((e,t)=>e+t))}v.regenColors(),window.addEventListener("resize",(e=>{v.cols=+getComputedStyle(c).getPropertyValue("--cols")}));
//# sourceMappingURL=index.420fc066.js.map
