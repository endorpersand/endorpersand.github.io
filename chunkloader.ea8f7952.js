!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequire94c2;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequire94c2=r),importScripts("./main.66bf90c5.js"),importScripts("./chunkloader.614145f8.js");var o,a,i=r("2DZam"),u=r("209r1"),c=(r("209r1"),r("1nPzy")),f=r("5Ndaw"),p=(u=r("209r1"),(0,f.create)(f.all)),s={pi:u.Complex.PI,e:u.Complex.E,i:u.Complex.I,inf:u.Complex.INFINITY,infinity:u.Complex.INFINITY,epsilon:u.Complex.EPSILON,nan:u.Complex.NAN},l={gamma:function(){return p.gamma(this)},ln:u.Complex.prototype.log},d={add:u.Complex.prototype.add,unaryPlus:function(){return this},subtract:u.Complex.prototype.sub,unaryMinus:u.Complex.prototype.neg,multiply:u.Complex.prototype.mul,divide:u.Complex.prototype.div,pow:u.Complex.prototype.pow,factorial:function(){return p.gamma(this.add(1))}};function h(e){var t=e.name;if("z"===(t=t.toLowerCase()))return{type:"z"};if(o.isMethod(t))return{type:"method",f:o.get(t)};if(t in s)return{type:"constant",value:s[t]};if(t in l)return{type:"method",f:l[t]};throw new Error("Unrecognized symbol [".concat(t,"]"))}function y(e,t){if("constant"===e.type)return e.value;if("function"===e.type)return e.f(t);if("z"===e.type)return t;throw new Error("Unrecognized fold result ".concat(e.type))}function m(e,t){var n=t.map((function(e){return v(e)}));if(n.every((function(e){return"constant"===e.type}))){var r=(0,c.default)(n.map((function(e){return e.value}))),o=r[0],a=r.slice(1),i=(0,u.Complex)(o);return{type:"constant",value:e.apply(i,a)}}var f=(0,c.default)(n),p=f[0],s=f.slice(1);return{type:"function",f:function(t){var n=(0,u.Complex)(y(p,t)),r=s.map((function(e){return y(e,t)}));return e.apply(n,r)}}}function v(e){switch(e.type){case"ConstantNode":return{type:"constant",value:e.value};case"FunctionNode":var t=h(e.fn);if("method"===t.type)return m(t.f,e.args);if("constant"===t.type)throw new Error("Expected function, got constant [".concat(e.fn.name," = ").concat(t.value,"]"));if("z"===t.type)throw new Error("Expected function, got [z]");throw new Error("Expected function, got [".concat(t.type,"]"));case"OperatorNode":var n=function(e,t){if(t in e)return e[t]}(d,e.fn),r=n?m(n,e.args):void 0;if(void 0===r)throw new Error("Unexpected operator [".concat(e.op,"]"));return r;case"ParenthesisNode":return v(e.content);case"SymbolNode":var o=h(e);if("method"===o.type)throw new Error("Unexpected function [".concat(e.name,"]"));return o;default:throw new Error("Cannot parse [".concat(e.type,"] into complex function"))}}function w(e){var t=v(p.parse(e));switch(t.type){case"constant":return{type:"constant",f:t.value};case"function":return t;case"z":return{type:"function",f:function(e){return e}};default:throw new Error("Invalid fold result type ".concat(t.type))}}(a=o||(o={})).isMethod=function(e){return e in u.Complex.prototype},a.get=function(e){var t=u.Complex.prototype[e];return t instanceof Function?t:function(){return this[e]}},a.wrap=function(e){return function(){return e(this)}};function g(e,t,n){var r=e.evaluator,o=e.inverse,a=n.width,c=n.height,f=new ArrayBuffer(4*a*c),p=new Uint32Array(f);if("constant"===r.type){var s=(0,u.Complex)(r.f);p.fill(x(s.abs(),s.arg(),o))}else for(var l=function(e){for(var r=Uint32Array.from({length:a},(function(r,a){var c=(0,u.Complex)(d(function(e,t,n,r){var o=n.width,a=n.height,c=n.scale,f=(0,i.default)(n.center,2),p=f[0],s=f[1],l=r.offx,d=r.offy,h=c*o/a,y=c,m=[(o-1)/2,(a-1)/2],v=m[0],w=m[1],g=[(e+l-v)/v,-(t+d-w)/w],x=g[0],C=g[1];return(0,u.Complex)(p+x*h,s+C*y)}(1*Math.floor(a/1),e,t,n)));return x(c.abs(),c.arg(),o)})),f=0;f<1&&e+f<c;f++){var s=(e+f)*a;p.set(r,s)}},d=r.f,h=0;h<c;h+=1)l(h);return f}function x(e,t,n){var r,o,a,i=C(3*t/Math.PI,6);return n&&(i=6-i),function(e,t,n){var r,o,a,i,u,c,f,p,s,l,d,h,y;r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(C(e,2)-1)),a=n-r/2,0<=e&&e<1?(i=(f=[r,o,0])[0],u=f[1],c=f[2]):1<=e&&e<2?(i=(p=[o,r,0])[0],u=p[1],c=p[2]):2<=e&&e<3?(i=(s=[0,r,o])[0],u=s[1],c=s[2]):3<=e&&e<4?(i=(l=[0,o,r])[0],u=l[1],c=l[2]):4<=e&&e<5?(i=(d=[o,0,r])[0],u=d[1],c=d[2]):5<=e&&e<6?(i=(h=[r,0,o])[0],u=h[1],c=h[2]):(i=(y=[r,o,0])[0],u=y[1],c=y[2]);return-16777216|255*(c+a)<<16|255*(u+a)<<8|255*(i+a)}(i,1,(r=e,o=n,a=1/(Math.sqrt(r)+1),o?1-a:a))}function C(e,t){return(e%t+t)%t}onmessage=function(e){var t=e.data;if("init"!==t.action){var n=t.pev,r=t.cd,o=t.graphID,a=function(e){var t=e.fstr,n=e.inverse;return{evaluator:w(t),inverse:n}}(n);if("chunkRequest"===t.action){var i=t.chunk,u=g(a,r,i);postMessage({action:"chunkDone",buf:u,chunk:i,graphID:o},[u])}else{if("mainRequest"!==t.action){throw new Error("Unrecognized request into chunkLoader")}for(var c=performance.now(),f=0;f<r.width;f+=100)for(var p=0;p<r.height;p+=100){var s={width:100,height:100,offx:f,offy:p},l=g(a,r,s),d={action:"chunkDone",buf:l,chunk:s,graphID:o};postMessage(d,[l]),console.log(d)}var h={action:"done",time:Math.trunc(performance.now()-c),graphID:o};postMessage(h)}}else self.postMessage({action:"ready"})}}();
//# sourceMappingURL=chunkloader.ea8f7952.js.map
