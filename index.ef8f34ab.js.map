{"mappings":"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","sources":["node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_class_call_check.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_class_extract_field_descriptor.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_class_apply_descriptor_get.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_class_private_field_get.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_check_private_redeclaration.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_class_apply_descriptor_set.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_class_private_field_set.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_class_private_method_get.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_class_private_method_init.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_class_check_private_static_access.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_class_static_private_field_spec_get.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_create_class.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_define_property.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_array_with_holes.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_iterable_to_array.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_non_iterable_rest.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_array_like_to_array.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_unsupported_iterable_to_array.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_sliced_to_array.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_array_without_holes.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_non_iterable_spread.mjs","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_to_consumable_array.mjs","src/index/boxes.ts","node_modules/.pnpm/@swc+helpers@0.4.2/node_modules/@swc/helpers/src/_class_private_field_init.mjs"],"sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\n","export default function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorGet from './_class_apply_descriptor_get.mjs';\n\nexport default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\n","export default function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\n","export default function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      // This should only throw in strict mode, but class bodies are\n      // always strict and private fields can only be used inside\n      // class bodies.\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorSet from './_class_apply_descriptor_set.mjs';\n\nexport default function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\n","export default function _classPrivateMethodGet(receiver, privateSet, fn) {\n  if (!privateSet.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  return fn;\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateMethodInit(obj, privateSet) {\n  _checkPrivateRedeclaration(obj, privateSet);\n  privateSet.add(obj);\n}\n","export default function _classCheckPrivateStaticAccess(receiver, classConstructor) { \n  if (receiver !== classConstructor) {\n    throw new TypeError(\"Private static access of wrong provenance\");\n  } \n}\n","import classCheckPrivateStaticAccess from './_class_check_private_static_access.mjs';\nimport classCheckPrivateStaticFieldDescriptor from './_class_check_private_static_access.mjs';\nimport classApplyDescriptorGet from './_class_apply_descriptor_get.mjs';\n\nexport default function _classStaticPrivateFieldSpecGet(receiver, classConstructor, descriptor) {\n  classCheckPrivateStaticAccess(receiver, classConstructor);\n  classCheckPrivateStaticFieldDescriptor(descriptor, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n","import _arrayLikeToArray from './_array_like_to_array.mjs';\n\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\n","import arrayWithHoles from './_array_with_holes.mjs';\nimport iterableToArrayLimit from './_iterable_to_array.mjs';\nimport nonIterableRest from './_non_iterable_rest.mjs';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array.mjs';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n","import _arrayLikeToArray from './_array_like_to_array.mjs';\n\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","import arrayWithoutHoles from './_array_without_holes.mjs';\nimport iterableToArray from './_iterable_to_array.mjs';\nimport nonIterableSpread from './_non_iterable_spread.mjs';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array.mjs';\n\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n","type Coord = [number, number]; // each cell is 1 unit\ntype NormCoord = [number, number]; // the entire wrapper 1 unit\ntype RGB = [number, number, number];\n\nlet wrapper = document.querySelector('.wrapper')!;\n\nclass SquareTracker {\n    static #MIN_ROWS = 3;\n    #cols: number;\n    readonly projectSquares: HTMLElement[];\n    placeholderSquares: HTMLElement[];\n    corners: [RGB, RGB, RGB, RGB] = [ // top right, bottom right, top left, bottom left\n        [0x77, 0x77, 0x77],\n        [0x77, 0x77, 0x77],\n        [0x77, 0x77, 0x77],\n        [0x77, 0x77, 0x77]\n    ];\n\n    constructor() {\n        this.#cols = +getComputedStyle(document.documentElement).getPropertyValue('--cols');\n\n        this.projectSquares = [...wrapper.querySelectorAll('a')];\n        for (let s of this.projectSquares) {\n            let span = document.createElement('span');\n            span.classList.add('colhex');\n            s.appendChild(span);\n\n            s.classList.add('box');\n        }\n\n        this.placeholderSquares = [];\n        for (let i = this.squares; i < (this.cols * SquareTracker.#MIN_ROWS); i++) {\n            this.#addSquare();\n        }\n    }\n\n    get squares() {\n        return this.projectSquares.length + this.placeholderSquares.length;\n    }\n\n    get cols() {\n        return this.#cols;\n    }\n    set cols(value) {\n        if (value != this.#cols) {\n            this.#cols = value;\n            this.#rebalance();\n        }\n    }\n\n    get rows(): number {\n        return this.squares / this.cols;\n    }\n\n    #addSquare() {\n        let box = document.createElement('div');\n        let title = document.createElement('div');\n        let desc = document.createElement('div');\n        let colhex = document.createElement('span');\n        \n        title.classList.add('title');\n        desc.classList.add('desc');\n        colhex.classList.add('colhex');\n        \n        box.classList.add('box');\n        box.append(title, desc, colhex);\n        box.addEventListener(\"click\", this.regenColors.bind(this, false));\n    \n        wrapper.appendChild(box);\n        this.placeholderSquares.push(box);\n    }\n\n    #removeSquare() {\n        this.placeholderSquares.pop()?.remove();\n    }\n\n    #rebalance() {\n        let squares = this.squares;\n        // n = number of squares that should be on board\n        let n = Math.max(this.#cols * SquareTracker.#MIN_ROWS, this.projectSquares.length);\n        n = Math.ceil(n / this.#cols) * this.#cols;\n\n        if (squares == n) return;\n        if (squares > n) {\n            for (let i = squares; i > n; i--) {\n                this.#removeSquare();\n            }\n        } else if (squares < n) {\n            for (let i = squares; i < n; i++) {\n                this.#addSquare();\n            }\n        }\n\n        this.regenColors(true);\n    }\n\n    forEach(callback: (value: HTMLElement, index: number) => void) {\n        let i = 0;\n        for (let e of this.projectSquares) callback(e, i++);\n        for (let e of this.placeholderSquares) callback(e, i++);\n    }\n\n    regenColors(useCurrentCorners: boolean = false) {\n        if (!useCurrentCorners) this.corners = Array.from({length: 4}, () => randRGB(0x50)) as [RGB, RGB, RGB, RGB];\n        let corners = this.corners;\n        \n        if (this.#cols < 3) {\n            // use TL + BR boxes rather than the corners to make a consistent grid (rather than 2 columns of color)\n            let corners2: [RGB, RGB] = [corners[2], corners[1]];\n            this.assignColors(i => interpolate2(corners2, asCoord(i)), useCurrentCorners);\n        } else {\n            this.assignColors(i => interpolate4(corners, asNormCoord(i)), useCurrentCorners);\n        }\n\n    }\n\n    assignColors(callback: (cellIndex: number) => RGB, skipTransition = false) {\n        squares.forEach((s, i) => {\n            let clr = callback(i);\n            if (skipTransition) {\n                s.classList.add(\"no-transition\");\n                s.offsetHeight;\n            }\n            s.style.backgroundColor = hex(clr);\n    \n            s.querySelector('.colhex')!.textContent = hex(clr);\n        });\n\n        if (skipTransition) {\n            // return transition after color change\n            requestAnimationFrame(() => { // this is called before update\n                requestAnimationFrame(() => { // this is called after update\n                    squares.forEach(s => {\n                        s.classList.remove(\"no-transition\");\n                    });\n                });\n            });\n        }\n    }\n\n}\nlet squares = new SquareTracker();\nsquares.regenColors();\n\nwindow.addEventListener(\"resize\", e => {\n    squares.cols = +getComputedStyle(wrapper).getPropertyValue('--cols');\n})\nfunction asCoord(i: number): Coord {\n    // takes an index in the array, maps it to its [row, col] value\n    return [Math.floor(i / squares.cols), i % squares.cols];\n}\nfunction asNormCoord(i: number): NormCoord {\n    // takes an index in the array, maps it to its NormCoord value\n    let [r, c] = asCoord(i);\n    return [r / (squares.rows - 1), c / (squares.cols - 1)];\n}\n\nfunction randInt(min: number, max: number) {\n    return Math.floor(Math.random() * (max - min)) + min;\n}\nfunction randRGB(min = 0, max = 256): RGB {\n    // [min, max)\n    return Array.from({length: 3}, () => randInt(min, max)) as RGB;\n}\nfunction hex(arr: RGB) {\n    // converts rgb array => hex notation\n    return `#${arr.map(x => Math.round(x).toString(16).padStart(2, \"0\")).join('')}`\n}\n\nfunction zip<A extends any[]>(...v: {[I in keyof A]: A[I][]}): A[] {\n    let length = v[0].length;\n    return Array.from({length}, (_, i) => v.map(a => a[i]) as A);\n}\n\nfunction lerp<T extends number[]>(pts: [T, T], dist: number): T {\n    let [p, q] = pts;\n    let length = p.length;\n    return Array.from({length}, (_, i) => {\n        let a = p[i], b = q[i];\n        return a + dist * (b - a);\n    }) as T;\n}\n\nfunction bilerp<T extends number[]>(pts: [T, T, T, T], c: NormCoord): T {\n    type ArrPair = [T, T];\n    let [px, py] = c;\n    let [top, bottom] = [pts.slice(0, 2) as ArrPair, pts.slice(2, 4) as ArrPair]\n    return lerp([lerp(bottom, px), lerp(top, px)], py);\n}\n\n// interpolate given that each corner is assigned a color\nfunction interpolate4(clrs: [RGB, RGB, RGB, RGB], c: NormCoord) {\n    // weight = how much each of the 4 points are valued based on the distance point c is from the corner\n    let weights = bilerp<[number, number, number, number]>([\n        [1,0,0,0],\n        [0,1,0,0],\n        [0,0,1,0],\n        [0,0,0,1]\n    ], c);\n\n    return Array.from({length: 3}, (_, i) => {\n        let channels = clrs.map(clr => clr[i]);\n\n        let sqsum = zip(channels, weights)\n            .map(([c, w]) => w * c * c)\n            .reduce((acc, cv) => acc + cv);\n        \n        return Math.round(Math.sqrt(sqsum));\n    }) as RGB;\n}\n\nfunction manhattan(p: Coord, q: Coord): number {\n    return zip(p, q)\n        .map(([px, qx]) => Math.abs(px - qx))\n        .reduce((acc, cv) => acc + cv);\n}\n\n// interpolate given that the top left and bottom right are assigned colors\nfunction interpolate2(clrs: [RGB, RGB], c: Coord) {\n    // weight = how much each of the 2 points are valued based on the distance point c is from the corner\n    let [aw, bw] = [\n        manhattan([0, 0], c),\n        manhattan([squares.rows - 1, squares.cols - 1], c),\n    ];\n    let weights = [\n        bw / (aw + bw), // note, flipped\n        aw / (aw + bw)\n    ];\n\n    return Array.from({length: 3}, (_, i) => {\n        let channels = clrs.map(clr => clr[i]);\n\n        let sqsum = zip(channels, weights)\n            .map(([c, w]) => w * c * c)\n            .reduce((acc, cv) => acc + cv);\n        \n        return Math.round(Math.sqrt(sqsum));\n    }) as RGB;\n}\n\nexport {}; // recognize as module","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateFieldInit(obj, privateMap, value) {\n  _checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\n"],"names":["$242f85665388c6a7$export$2e2bcd8739ae039","instance","Constructor","TypeError","$0e054a1dc141fd21$export$2e2bcd8739ae039","receiver","privateMap","action","has","get","$920a55f9b51118f2$export$2e2bcd8739ae039","descriptor","call","value","$cc2e523e90500541$export$2e2bcd8739ae039","$b40a02ccd0972b09$export$2e2bcd8739ae039","obj","privateCollection","$c6b8f5a203e78aa0$export$2e2bcd8739ae039","set","writable","$f1b4588b7220c2c6$export$2e2bcd8739ae039","$6e7a443bb2ce01d3$export$2e2bcd8739ae039","privateSet","fn","$1fa04b39a7e60216$export$2e2bcd8739ae039","add","$afa7b9ab9037efb7$export$2e2bcd8739ae039","classConstructor","$b45212ddd2fa52f6$export$2e2bcd8739ae039","$f3b88ac5cf5bfcbb$var$_defineProperties","target","props","i","length","enumerable","configurable","Object","defineProperty","key","$350eee328e6b153d$export$2e2bcd8739ae039","$14fb98d44ad97c5c$export$2e2bcd8739ae039","arr","Array","isArray","$d480212494b9508b$export$2e2bcd8739ae039","iter","Symbol","iterator","from","$c19b5e87804eb1a1$export$2e2bcd8739ae039","$e0b5485d7b4e10d0$export$2e2bcd8739ae039","len","arr2","$61a31d22c072bdf7$export$2e2bcd8739ae039","o","minLen","n","prototype","toString","slice","constructor","name","test","$4a5c390b0864902b$export$2e2bcd8739ae039","$3ed4113311a7145f$export$2e2bcd8739ae039","$dd1d74fbf13e3392$export$2e2bcd8739ae039","$bff0ef45911c4072$export$2e2bcd8739ae039","$b2ecc1262834a993$var$wrapper","document","querySelector","$b2ecc1262834a993$var$_cols","WeakMap","$b2ecc1262834a993$var$_addSquare","WeakSet","$b2ecc1262834a993$var$_removeSquare","$b2ecc1262834a993$var$_rebalance","$b2ecc1262834a993$var$SquareTracker","SquareTracker","this","getComputedStyle","documentElement","getPropertyValue","projectSquares","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","s","span","createElement","classList","appendChild","err","return","placeholderSquares","squares","cols","$b2ecc1262834a993$var$_MIN_ROWS","$b2ecc1262834a993$var$addSquare","protoProps","staticProps","$b2ecc1262834a993$var$rebalance","callback","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_step1","_iterator1","err1","useCurrentCorners","arguments","corners","$b2ecc1262834a993$var$randRGB","corners2","assignColors","$b2ecc1262834a993$var$interpolate2","$b2ecc1262834a993$var$asCoord","$b2ecc1262834a993$var$interpolate4","$b2ecc1262834a993$var$asNormCoord","skipTransition","$b2ecc1262834a993$var$squares","forEach","clr","offsetHeight","style","backgroundColor","$b2ecc1262834a993$var$hex","textContent","requestAnimationFrame","remove","box","title","desc","colhex","append","addEventListener","regenColors","bind","push","$b2ecc1262834a993$var$removeSquare","ref","pop","squares1","Math","max","ceil","i1","floor","r","c","rows","$b2ecc1262834a993$var$randInt","min","random","concat","map","x","round","padStart","join","$b2ecc1262834a993$var$zip","_len","v","_key","_","a","$b2ecc1262834a993$var$lerp","pts","dist","_pts","p","q","b","clrs","weights","_c","px","py","top","$b2ecc1262834a993$var$bilerp","sqsum","param","_$c","_param","reduce","acc","cv","sqrt","$b2ecc1262834a993$var$manhattan","qx","abs","aw","bw","window","e"],"version":3,"file":"index.ef8f34ab.js.map"}